<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buku Interaktif</title>
    <link href="https://fonts.cdnfonts.com/css/sf-pro-display" rel="stylesheet">
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-image: url('assets/background.webp');
            background-size: cover;
            background-position: center;
            overflow: hidden;
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
            position: relative;
        }
        .book-container {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            height: 100%;
            width: 100%;
            transform: translateY(-50px); /* Menggeser buku ke atas sebesar 50px */
        }
        .book {
            width: 270px; /* Rasio 9:16, 270px x 480px untuk HP */
            height: 480px;
            position: relative;
            perspective: 1000px;
            cursor: pointer;
            z-index: 10;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            outline: none;
            display: block; /* Default untuk tab buku */
        }
        .book-cover, .page {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            transform-origin: left;
            transition: transform 0.7s ease-in-out;
            backface-visibility: hidden;
            pointer-events: auto;
            -webkit-tap-highlight-color: transparent;
            outline: none;
            image-rendering: crisp-edges;
            border-radius: 0 15px 15px 0; /* Hanya sisi kanan atas dan bawah yang rounded */
        }
        .book-cover {
            background-image: url('assets/cover123.webp');
            background-size: cover;
            background-position: center;
            border: 2px solid #654321;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.3);
            z-index: 11;
        }
        .page {
            background-size: cover;
            background-position: center;
            border: 1px solid #ccc;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.2);
        }
        .page-1 { background-image: url('assets/1.webp'); z-index: 10; }
        .page-2 { background-image: url('assets/2.webp'); z-index: 9; }
        .page-3 { background-image: url('assets/3.webp'); z-index: 8; }
        .page-4 { background-image: url('assets/4.webp'); z-index: 7; }
        .page-5 { background-image: url('assets/5.webp'); z-index: 6; }
        .page-6 { background-image: url('assets/6.webp'); z-index: 5; }
        .page-7 Multiline Code Snippet
{ background-image: url('assets/7.webp'); z-index: 4; }
        .page-8 { background-image: url('assets/8.webp'); z-index: 3; }
        .page-9 { background-image: url('assets/9.webp'); z-index: 2; }
        .page-10 { background-image: url('assets/10.webp'); z-index: 1; }
        .open .book-cover { transform: rotateY(-180deg); }
        .flip-1 .page-1 { transform: rotateY(-180deg); }
        .flip-2 .page-2 { transform: rotateY(-180deg); }
        .flip-3 .page-3 { transform: rotateY(-180deg); }
        .flip-4 .page-4 { transform: rotateY(-180deg); }
        .flip-5 .page-5 { transform: rotateY(-180deg); }
        .flip-6 .page-6 { transform: rotateY(-180deg); }
        .flip-7 .page-7 { transform: rotateY(-180deg); }
        .flip-8 .page-8 { transform: rotateY(-180deg); }
        .flip-9 .page-9 { transform: rotateY(-180deg); }
        .flip-10 .page-10 { transform: rotateY(-180deg); }
        .reset .book-cover, 
        .reset .page-1, 
        .reset .page-2, 
        .reset .page-3, 
        .reset .page-4, 
        .reset .page-5, 
        .reset .page-6, 
        .reset .page-7, 
        .reset .page-8, 
        .reset .page-9, 
        .reset .page-10 {
            transform: rotateY(0deg);
        }
        .left-half, .right-half {
            position: absolute;
            top: 0;
            height: 100%;
            width: 50%;
            z-index: 12;
        }
        .left-half {
            left: 0;
        }
        .right-half {
            right: 0;
        }
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 350px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            text-align: center;
            z-index: 100;
            -webkit-tap-highlight-color: transparent;
            outline: none;
        }
        .popup.show {
            display: block;
        }
        .popup h2 {
            font-size: 24px;
            margin: 0 0 15px;
            color: #333;
        }
        .popup img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            margin: 10px 0;
        }
        .popup h3 {
            font-size: 18px;
            margin: 10px 0;
            color: #333;
        }
        .popup p {
            font-size: 14px;
            color: #555;
            margin: 10px 0;
        }
        .popup-button {
            padding: 10px 20px;
            font-size: 16px;
            color: #fff;
            background-color: #ff6f61;
            border-radius: 15px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            -webkit-tap-highlight-color: transparent;
            outline: none;
            display: inline-block;
            margin: 20px auto;
        }
        .popup-button:hover {
            background-color: #ff8a75;
        }
        .image-popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 200;
            justify-content: center;
            align-items: center;
        }
        .image-popup.show {
            display: flex;
        }
        .image-popup img {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
            cursor: pointer;
        }
        .table-container-bottom {
            position: fixed;
            bottom: 0;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 20;
            margin: 0; /* Menghilangkan margin untuk menyentuh batas layar */
            padding: 0; /* Menghilangkan padding untuk menyentuh batas layar */
        }
        .table-bottom {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 15px 15px 0 0; /* Rounded hanya di sisi atas kiri dan kanan */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            padding: 15px 0; /* Padding atas dan bawah untuk ruang ikon */
            display: flex;
            align-items: center;
            justify-content: space-around; /* Menyesuaikan posisi tab agar merata */
            gap: 20px;
            width: 100%; /* Lebar penuh untuk menyentuh batas layar */
            height: 80px; /* Tinggi tabel tab diperbesar untuk HP */
        }
        .tab-icon {
            width: 40px;
            height: 40px;
            background-size: cover;
            background-position: center;
            cursor: pointer;
            transition: transform 0.3s ease;
            position: relative;
            -webkit-tap-highlight-color: transparent;
            outline: none;
        }
        .tab-icon:hover {
            transform: scale(1.1);
        }
        .tab-icon.active::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px; /* Indikator diperkecil */
            height: 6px;
            border-radius: 50%;
            background-color: blue;
            animation: colorChange 2s infinite ease-in-out;
        }
        @keyframes colorChange {
            0% { background-color: blue; opacity: 1; }
            50% { background-color: pink; opacity: 0.5; }
            100% { background-color: blue; opacity: 1; }
        }
        /* Media Queries untuk Desktop */
        @media (min-width: 769px) {
            .book {
                width: 405px; /* Rasio 9:16, 405px x 720px untuk desktop */
                height: 720px;
            }
            .table-bottom {
                width: 100%; /* Lebar penuh untuk desktop */
                height: 100px; /* Tinggi tabel tab diperbesar untuk desktop */
            }
        }
    </style>
</head>
<body>
    <div class="book-container">
        <div class="book" id="book">
            <div class="left-half" onclick="goBack()"></div>
            <div class="right-half" onclick="turnPage()"></div>
            <div class="book-cover"></div>
            <div class="page page-1"></div>
            <div class="page page-2"></div>
            <div class="page page-3"></div>
            <div class="page page-4"></div>
            <div class="page page-5"></div>
            <div class="page page-6"></div>
            <div class="page page-7"></div>
            <div class="page page-8"></div>
            <div class="page page-9"></div>
            <div class="page page-10"></div>
        </div>
        <div class="popup" id="popup">
            <h2>Tentang Buku Ini</h2>
            <img src="assets/photo.webp" alt="Foto">
            <h3>Kerja sama</h3>
            <p>GroxAI = Coding HTML</p>
            <p>
                Buku ini adalah karya cinta yang dibuat dengan penuh kasih sayang untuk seseorang yang sangat spesial di hati. 
                Setiap halaman adalah cerita, kenangan, dan harapan yang dirangkai dengan hati, 
                seperti bunga yang mekar di musim semi, penuh warna dan kehidupan. 
                Buku ini bukan hanya sekumpulan gambar, tapi cerminan perjalanan kita bersama, 
                penuh tawa, tangis, dan momen-momen kecil yang membuat hidup begitu berarti. 
                Untukmu, yang selalu menjadi alasan di balik senyumku, 
                semoga buku ini bisa menghangatkan hatimu seperti kamu menghangatkan hatimu setiap hari. Asek asek hahaaa!
            </p>
            <div class="popup-button" onclick="hidePopup()">Kembali</div>
        </div>
        <div class="image-popup" id="imagePopup1" onclick="showSecondPopup()">
            <img src="assets/info.webp" alt="Info Popup">
        </div>
        <div class="image-popup" id="imagePopup2" onclick="hideSecondPopup()">
            <img src="assets/info2.webp" alt="Info Popup 2">
        </div>
        <audio id="backgroundMusic" src="assets/music.mp3" preload="auto" loop></audio>
    </div>
    <div class="table-container-bottom">
        <table class="table-bottom">
            <tr>
                <td>
                    <div class="tab-icon active" style="background-image: url('assets/book-icon.webp');" onclick="showBook()"></div>
                </td>
                <td>
                    <div class="tab-icon" style="background-image: url('assets/feature-icon.webp');" onclick="showPopup()"></div>
                </td>
            </tr>
        </table>
    </div>

    <script>
        const book = document.getElementById('book');
        const popup = document.getElementById('popup');
        const imagePopup1 = document.getElementById('imagePopup1');
        const imagePopup2 = document.getElementById('imagePopup2');
        const audio = document.getElementById('backgroundMusic');
        const tabIcons = document.querySelectorAll('.tab-icon');
        let currentPage = 0;
        let musicPlayed = false;

        // Tampilkan pop-up pertama saat halaman dimuat
        window.onload = function() {
            imagePopup1.classList.add('show');
        };

        // Sembunyikan pop-up pertama dan tampilkan pop-up kedua
        function showSecondPopup() {
            imagePopup1.classList.remove('show');
            imagePopup2.classList.add('show');
        }

        // Sembunyikan pop-up kedua
        function hideSecondPopup() {
            imagePopup2.classList.remove('show');
        }

        function turnPage() {
            if (currentPage < 10) { // Halaman ke-10 sebagai halaman terakhir
                currentPage++;
                if (currentPage === 1 && !musicPlayed) {
                    audio.play();
                    musicPlayed = true;
                }
                if (currentPage === 1) {
                    book.classList.add('open');
                } else {
                    book.classList.add(`flip-${currentPage - 1}`);
                }
            }
        }

        function goBack() {
            if (currentPage > 0) {
                if (currentPage === 1) {
                    book.classList.remove('open');
                } else {
                    book.classList.remove(`flip-${currentPage - 1}`);
                }
                currentPage--;
            }
        }

        function resetBook() {
            book.classList.add('reset');
            book.classList.remove('open', 'flip-1', 'flip-2', 'flip-3', 'flip-4', 'flip-5', 'flip-6', 'flip-7', 'flip-8', 'flip-9', 'flip-10');
            setTimeout(() => {
                book.classList.remove('reset');
                currentPage = 0;
            }, 700);
        }

        function showBook() {
            book.style.display = 'block';
            popup.classList.remove('show');
            tabIcons[0].classList.add('active');
            tabIcons[1].classList.remove('active');
        }

        function showPopup() {
            book.style.display = 'none';
            popup.classList.add('show');
            tabIcons[0].classList.remove('active');
            tabIcons[1].classList.add('active');
        }

        function hidePopup() {
            popup.classList.remove('show');
            book.style.display = 'block';
            tabIcons[0].classList.add('active');
            tabIcons[1].classList.remove('active');
        }
    </script>
</body>
</html>
