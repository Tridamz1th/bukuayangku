<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buku Interaktif</title>
    <link href="https://fonts.cdnfonts.com/css/sf-pro-display" rel="stylesheet">
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-image: url('assets/background.webp');
            background-size: cover;
            background-position: center;
            overflow: hidden;
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
            position: relative;
        }
        .book-container {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            height: 100%;
            width: 100%;
        }
        .book {
            width: 600px;
            height: 800px;
            position: relative;
            perspective: 1000px;
            cursor: pointer;
            z-index: 10;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            outline: none;
        }
        .book-cover, .page, .left-page {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            transform-origin: left;
            transition: transform 0.7s cubic-bezier(0.25, 0.1, 0.25, 1); /* Animasi lebih realistis */
            backface-visibility: hidden;
            pointer-events: auto;
            -webkit-tap-highlight-color: transparent;
            outline: none;
        }
        .book-cover {
            background-image: url('assets/tampilan.webp');
            background-size: cover;
            background-position: center;
            border: 2px solid #654321;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.3);
            z-index: 11;
        }
        .page {
            background-size: cover;
            background-position: center;
            border: 1px solid #ccc;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.2);
            transition: transform 0.7s cubic-bezier(0.25, 0.1, 0.25, 1), box-shadow 0.7s ease; /* Tambah transisi bayangan */
        }
        .left-page {
            background-size: cover;
            background-position: center;
            border: 1px solid #ccc;
            box-shadow: -5px 5px 10px rgba(0, 0, 0, 0.2);
            z-index: 0; /* Di belakang halaman kanan */
            transform: rotateY(0deg); /* Selalu terbuka */
        }
        .page-1 { background-image: url('assets/1.webp'); z-index: 10; }
        .page-2 { background-image: url('assets/2.webp'); z-index: 9; }
        .page-3 { background-image: url('assets/3.webp'); z-index: 8; }
        .page-4 { background-image: url('assets/4.webp'); z-index: 7; }
        .page-5 { background-image: url('assets/5.webp'); z-index: 6; }
        .page-6 { background-image: url('assets/6.webp'); z-index: 5; }
        .page-7 { background-image: url('assets/7.webp'); z-index: 4; }
        .page-8 { background-image: url('assets/8.webp'); z-index: 3; }
        .page-9 { background-image: url('assets/9.webp'); z-index: 2; }
        .page-10 { background-image: url('assets/10.webp'); z-index: 1; }
        .left-page-1 { background-image: url('assets/kosong1.webp'); }
        .left-page-2 { background-image: url('assets/kosong2.webp'); }
        .left-page-3 { background-image: url('assets/kosong3.webp'); }
        .left-page-4 { background-image: url('assets/kosong4.webp'); }
        .left-page-5 { background-image: url('assets/kosong5.webp'); }
        .left-page-6 { background-image: url('assets/kosong6.webp'); }
        .left-page-7 { background-image: url('assets/kosong7.webp'); }
        .left-page-8 { background-image: url('assets/kosong8.webp'); }
        .left-page-9 { background-image: url('assets/kosong9.webp'); }
        .left-page-10 { background-image: url('assets/kosong10.webp'); }
        .open .book-cover { transform: rotateY(-180deg); }
        .flip-1 .page-1 { transform: rotateY(-180deg); box-shadow: -5px 5px 10px rgba(0, 0, 0, 0.3); /* Bayangan berubah saat flip */ }
        .flip-2 .page-2 { transform: rotateY(-180deg); box-shadow: -5px 5px 10px rgba(0, 0, 0, 0.3); }
        .flip-3 .page-3 { transform: rotateY(-180deg); box-shadow: -5px 5px 10px rgba(0, 0, 0, 0.3); }
        .flip-4 .page-4 { transform: rotateY(-180deg); box-shadow: -5px 5px 10px rgba(0, 0, 0, 0.3); }
        .flip-5 .page-5 { transform: rotateY(-180deg); box-shadow: -5px 5px 10px rgba(0, 0, 0, 0.3); }
        .flip-6 .page-6 { transform: rotateY(-180deg); box-shadow: -5px 5px 10px rgba(0, 0, 0, 0.3); }
        .flip-7 .page-7 { transform: rotateY(-180deg); box-shadow: -5px 5px 10px rgba(0, 0, 0, 0.3); }
        .flip-8 .page-8 { transform: rotateY(-180deg); box-shadow: -5px 5px 10px rgba(0, 0, 0, 0.3); }
        .flip-9 .page-9 { transform: rotateY(-180deg); box-shadow: -5px 5px 10px rgba(0, 0, 0, 0.3); }
        .flip-10 .page-10 { transform: rotateY(-180deg); box-shadow: -5px 5px 10px rgba(0, 0, 0, 0.3); }
        .reset .book-cover, 
        .reset .page-1, 
        .reset .page-2, 
        .reset .page-3, 
        .reset .page-4, 
        .reset .page-5, 
        .reset .page-6, 
        .reset .page-7, 
        .reset .page-8, 
        .reset .page-9, 
        .reset .page-10 {
            transform: rotateY(0deg);
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.2); /* Kembalikan bayangan default */
        }
        .table-container-top {
            position: fixed;
            top: 20px;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0 20px;
            box-sizing: border-box;
            z-index: 20;
        }
        .table-top {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            padding: 10px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 600px;
        }
        .button-icon {
            width: 40px;
            height: 40px;
            background-size: cover;
            background-position: center;
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.3s ease;
            -webkit-tap-highlight-color: transparent;
            outline: none;
        }
        .button-icon:hover {
            transform: scale(1.1);
        }
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 350px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            text-align: center;
            z-index: 100;
            -webkit-tap-highlight-color: transparent;
            outline: none;
        }
        .popup.show {
            display: block;
        }
        .popup h2 {
            font-size: 24px;
            margin: 0 0 15px;
            color: #333;
        }
        .popup img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            margin: 10px 0;
            background-image: url('assets/photo.webp');
        }
        .popup h3 {
            font-size: 18px;
            margin: 10px 0;
            color: #333;
        }
        .popup p {
            font-size: 14px;
            color: #555;
            margin: 10px 0;
        }
        .popup table {
            margin: 20px auto;
        }
        .popup td {
            padding: 10px 20px;
            font-size: 16px;
            color: #fff;
            background-color: #ff6f61;
            border-radius: 15px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            -webkit-tap-highlight-color: transparent;
            outline: none;
        }
        .popup td:hover {
            background-color: #ff8a75;
        }

        /* Media Queries untuk Responsif di HP */
        @media (max-width: 768px) {
            .book {
                width: 300px;
                height: 400px;
            }
            .table-top {
                width: 300px;
            }
        }

        @media (max-height: 600px) {
            .book {
                width: 200px;
                height: 266px; /* Proporsi 3:4 tetap */
            }
            .table-top {
                width: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="table-container-top">
        <table class="table-top">
            <tr>
                <td><div class="button-icon" style="background-image: url('assets/kembali.webp');" onclick="goBack()"></div></td>
                <td><div class="button-icon" style="background-image: url('assets/ulangi.webp');" onclick="resetBook()"></div></td>
                <td><div class="button-icon" style="background-image: url('assets/love.webp');" onclick="showPopup()"></div></td>
                <td><a href="https://wa.me/+6285792901270" target="_blank" class="button-icon" style="background-image: url('assets/love.webp');"></a></td>
            </tr>
        </table>
    </div>
    <div class="book-container">
        <div class="book" onclick="turnPage()">
            <div class="book-cover"></div>
            <div class="left-page left-page-1"></div>
            <div class="page page-1"></div>
            <div class="left-page left-page-2"></div>
            <div class="page page-2"></div>
            <div class="left-page left-page-3"></div>
            <div class="page page-3"></div>
            <div class="left-page left-page-4"></div>
            <div class="page page-4"></div>
            <div class="left-page left-page-5"></div>
            <div class="page page-5"></div>
            <div class="left-page left-page-6"></div>
            <div class="page page-6"></div>
            <div class="left-page left-page-7"></div>
            <div class="page page-7"></div>
            <div class="left-page left-page-8"></div>
            <div class="page page-8"></div>
            <div class="left-page left-page-9"></div>
            <div class="page page-9"></div>
            <div class="left-page left-page-10"></div>
            <div class="page page-10"></div>
        </div>
        <div class="popup" id="popup">
            <h2>Tentang Buku Ini</h2>
            <img src="assets/photo.webp" alt="Foto">
            <h3>Kerja sama</h3>
            <p>GroxAI = Coding HTML</p>
            <p>
                Buku ini adalah karya cinta yang dibuat dengan penuh kasih sayang untuk seseorang yang sangat spesial di hati. 
                Setiap halaman adalah cerita, kenangan, dan harapan yang dirangkai dengan hati, 
                seperti bunga yang mekar di musim semi, penuh warna dan kehidupan. 
                Buku ini bukan hanya sekumpulan gambar, tapi cerminan perjalanan kita bersama, 
                penuh tawa, tangis, dan momen-momen kecil yang membuat hidup begitu berarti. 
                Untukmu, yang selalu menjadi alasan di balik senyumku, 
                semoga buku ini bisa menghangatkan hatimu seperti kamu menghangatkan hatiku setiap hari. Asek asek hahaaa!
            </p>
            <table>
                <tr>
                    <td onclick="hidePopup()">Kembali</td>
                </tr>
            </table>
        </div>
        <audio id="backgroundMusic" src="assets/music.mp3" preload="auto" loop></audio>
    </div>

    <script>
        const book = document.querySelector('.book');
        const popup = document.getElementById('popup');
        const audio = document.getElementById('backgroundMusic');
        let currentPage = 0;
        let musicPlayed = false;

        function turnPage() {
            if (currentPage < 11) {
                currentPage++;
                if (currentPage === 1 && !musicPlayed) {
                    audio.play();
                    musicPlayed = true;
                }
                if (currentPage === 1) {
                    book.classList.add('open');
                } else {
                    book.classList.add(`flip-${currentPage - 1}`);
                }
            }
        }

        function goBack() {
            if (currentPage > 0) {
                if (currentPage === 1) {
                    book.classList.remove('open');
                } else {
                    book.classList.remove(`flip-${currentPage - 1}`);
                }
                currentPage--;
            }
        }

        function resetBook() {
            book.classList.add('reset');
            book.classList.remove('open', 'flip-1', 'flip-2', 'flip-3', 'flip-4', 'flip-5', 'flip-6', 'flip-7', 'flip-8', 'flip-9', 'flip-10');
            setTimeout(() => {
                book.classList.remove('reset');
                currentPage = 0;
            }, 700);
        }

        function showPopup() {
            popup.classList.add('show');
        }

        function hidePopup() {
            popup.classList.remove('show');
        }
    </script>
</body>
</html>
